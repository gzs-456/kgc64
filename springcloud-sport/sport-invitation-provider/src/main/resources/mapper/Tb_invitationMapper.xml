<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.kgc.mapper.Tb_invitationMapper">
    <!--专区map-->
    <resultMap id="areaMap" type="com.kgc.pojo.Tb_invitation">
        <id column="id" property="id"></id>
        <result column="title" property="title"></result>
        <result column="iname" property="iname"></result>
        <result column="content" property="content"></result>
        <result column="ftime" property="ftime"></result>
        <result column="utime" property="utime"></result>
        <result column="snum" property="snum"></result>
        <result column="rnum" property="rnum"></result>
        <result column="seenum" property="seenum"></result>
        <association property="area" javaType="com.kgc.pojo.Tb_area">
            <id column="areaid" property="id"></id>
            <result column="areaname" property="areaname"></result>
            <result column="introduce" property="introduce"></result>
            <result column="areaAdmin" property="areaAdmin"></result>
            <result column="clicknum" property="clicknum"></result>
            <association property="areaChild" javaType="com.kgc.pojo.Tb_areaChild">
                <id column="introduceChildId" property="id"></id>
                <result column="areaname" property="areaname"></result>
                <result column="introduce" property="introduce"></result>
                <result column="areaAdmin" property="areaAdmin"></result>
                <result column="clicknum" property="clicknum"></result>
            </association>
        </association>
    </resultMap>

    <!--评论map-->
    <resultMap id="commentMap" type="com.kgc.pojo.Tb_comment">
        <id column="id" property="id"></id>
        <result column="title" property="title"></result>
        <result column="iname" property="iname"></result>
        <result column="content" property="content"></result>
        <result column="ftime" property="ftime"></result>
        <result column="utime" property="utime"></result>
        <result column="snum" property="snum"></result>
        <result column="rnum" property="rnum"></result>
        <result column="seenum" property="seenum"></result>
        <association property="comment" javaType="com.kgc.pojo.Tb_comment">
            <id column="cid" property="id"></id>
            <result column="cname" property="cname"></result>
            <result column="content" property="content"></result>
            <result column="ctime" property="ctime"></result>
            <result column="cpicture" property="cpicture"></result>
            <result column="cnum" property="cnum"></result>
        </association>
    </resultMap>

    <!--分页-->
    <select id="getTb_invitationPage" resultType="com.kgc.pojo.Tb_invitation">
        SELECT * FROM tb_invitation WHERE 1=1
        <if test="title!=null and title!=''"> and title like concat('%',#{title},'%')</if>
        <if test="iname!=null and iname!=''"> and iname like concat('%',#{iname},'%')</if>
        <if test=""></if>
        <if test=""></if>
        <if test=""></if>
        <if test=""></if>
        limit ${pageIndex},${pageSize}
    </select>
</mapper> 